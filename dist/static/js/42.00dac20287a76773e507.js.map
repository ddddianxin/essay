{"version":3,"sources":["webpack:///src/mpage/order/address.vue","webpack:///./src/mpage/order/address.vue?8fbb","webpack:///./src/mpage/order/address.vue"],"names":["address","name","data","goodsId","speId","number","type","list","backurl","components","mheadTop","headTop","mounted","this","initData","getUserInfo","computed","_extends","Object","vuex_esm","methods","_this","regeneratorRuntime","mark","_callee","res","i","wrap","_context","prev","next","$route","query","userInfo","user_id","api","sent","concat","_toConsumableArray","addressId","length","add_id","is_default","stop","checkBtn","index","CHOOSE_ADDRESS","$router","push","path","specifications_id","editAddress","addAddress","$message","message","created","watch","value","order_address","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","titleHead","lfIcon","lfUrl","rgIcon","rgUrl","_v","_l","item","key","on","change","$event","model","callback","$$v","$set","expression","_s","class","phone","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/42.00dac20287a76773e507.js","sourcesContent":["<template>\n    <div class=\"mBg\">\n        <mhead-top titleHead=\"选择收货地址\" lfIcon=\"el-icon-arrow-left icon\" :lfUrl=\"backurl\" rgIcon=\"el-icon-s-home icon\" rgUrl=\"/home\"></mhead-top>\n            <div class=\"addBorder\"></div>\n            <div class=\"m-o-address bbGray\" v-for=\"(item,index) in list\" :key=\"index\">\n                <div class=\"m-o-check\">\n                    <el-checkbox v-model=\"item.is_default\" @change=\"checkBtn(index,item.add_id)\"></el-checkbox>\n                </div>\n                <div class=\"mo-a-name\">\n                    <div class=\"wto\">{{item.name}}</div>\n                    <span :class=\"item.is_default?'':'gray'\">默认</span>\n                </div>\n                <div class=\"mo-a-info\">\n                    <div class=\"mo-a-phone\">{{item.phone}}</div>\n                    <div class=\"mo-a-address wto\">{{item.address}}</div>\n                </div>\n                <div class=\"mo-a-arrow\" @click=\"editAddress(item.add_id)\">\n                    <i class=\"el-icon-edit-outline icon\"></i>\n                </div>\n            </div>\n            <div class=\"m-p-foot\">\n                <el-button @click=\"addAddress()\" type=\"primary\" class=\"m-p-Btn\"><i class=\"el-icon-plus el-icon--left\"></i>添加收货地址</el-button>\n            </div>\n        </div>\n</template>\n\n\n<script>\n    import mheadTop from '../../components/mobile/headTop';\n    import {address} from '../../service/api'\n    import {mapState, mapMutations, mapActions} from 'vuex'\n    export default {\n        name: 'mOrderAddress',\n        data(){\n            return{\n                goodsId:'',\n                speId:'',\n                number:'',\n                type:0,//0:购物车下单，1：产品详细页下单\n                list:'',\n                backurl:''//返回上一页\n            }\n        },\n        components:{\n            mheadTop,\n        },\n        mounted(){\n            this.initData();\n            this.getUserInfo();\n        },\n        computed:{\n            ...mapState([\n                'userInfo','addressId'\n            ]),\n        },\n        methods:{\n            ...mapActions([\n                'saveAddress','getUserInfo'\n            ]),\n            ...mapMutations([\n                'CHOOSE_ADDRESS'\n            ]),\n            //初始化信息\n            async initData(){\n                this.goodsId = this.$route.query.goodsId||'';\n                this.speId = this.$route.query.speId||'';\n                this.number = this.$route.query.number||0;\n                this.type = this.$route.query.type||0;\n\n                if(this.number==0 && this.type ==0){\n                    this.backurl = '/good/detail?specifications_id='+this.speId;\n                }else{\n                    this.backurl = '/order/confirm?goodsId='+this.goodsId+'&speId='+this.speId+'&number='+this.number+'&type='+this.type;\n                }\n\n\n\n\n                if (this.userInfo && this.userInfo.user_id) {\n                    let res = await address();\n                    this.list = [...res];\n                }\n                if(this.addressId){\n                    for(var i = 0 ; i < this.list.length;i++){\n                        if(this.list[i].add_id==this.addressId){\n                            this.list[i].is_default = true;\n                        }else{\n                            this.list[i].is_default = false;\n                        }\n                    }\n                }\n            },\n            checkBtn(index,add_id){\n                this.CHOOSE_ADDRESS(this.list[index],add_id);\n                if(this.number==0 && this.type ==0){\n                    this.$router.push({path:\"/good/detail\",query:{specifications_id:this.speId}});\n                }else{\n                    this.$router.push({path:\"/order/confirm\",query:{goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}});\n                }\n            },\n            editAddress(add_id){\n                this.$router.push({path:\"/order/add\",query:{add_id:add_id,goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}});\n            },\n            addAddress(){\n                if(this.list.length>=6){\n                    this.$message({\n                        message: '地址已达到上限，不能超过6条哦',\n                        type: 'warning'\n                    });\n\n                }else{\n                    this.$router.push({path:\"/order/add\",query:{goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}});\n                }\n            }\n        },\n        created(){\n\n        },\n        watch: {\n            userInfo: function (value) {\n                if (value && value.user_id) {\n                    this.initData();\n                }\n            }\n        }\n\n    }\n\n</script>\n\n<style lang=\"scss\">\n    @import '../../style/mixin';\n    body{\n        height: 100%;\n    }\n    .mBg{\n        background-color:$bggray;\n        display: block;\n        width:100%;\n        height: 100%;\n      /*min-height: px2rem(1140);*/\n        padding:px2rem(90) 0 px2rem(104) 0;\n    }\n    /*address*/\n    .addBorder{\n        display: block;\n        width: 100%;\n        height: .13333rem;\n        background: url(../../images/addBorder.png) repeat-x;\n        background-size: .8rem .13333rem;\n    }\n    .m-o-address{\n        background-color: #fff;\n        padding:px2rem(20);\n        display: flex;\n        flex-wrap: nowrap;\n        justify-content: space-between;\n    }\n    .m-o-check{\n        width:px2rem(70);\n        text-align: left;\n        line-height: px2rem(100);\n    }\n    .mo-a-name{\n        width:px2rem(130);\n    }\n    .mo-a-name span{\n        border:1px solid $default;\n        border-radius: 3px;\n        font-size: px2rem(22);\n        color:$default;\n        padding:0 px2rem(10);\n    }\n    .mo-a-name .gray{\n        border:1px solid $bc;\n        color:#999;\n    }\n\n    .mo-a-info{\n        width:px2rem(460);\n    }\n    .mo-a-address{\n        font-size: px2rem(26);\n        color:#999;\n        margin-top: px2rem(4);\n    }\n    .mo-a-arrow{\n        width:px2rem(50);\n        text-align: right;\n        line-height: px2rem(100);\n    }\n    .mo-a-arrow .icon{\n        font-size: px2rem(36);\n        color:#999;\n    }\n\n    .m-p-foot{\n        position: fixed;\n        bottom:0;\n        left:0;\n        width:100%;\n        z-index: 1000;\n    }\n    .m-p-Btn{\n        border-radius: 0;\n        width:100%;\n        height: px2rem(104);\n    }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/mpage/order/address.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mBg\"},[_c('mhead-top',{attrs:{\"titleHead\":\"选择收货地址\",\"lfIcon\":\"el-icon-arrow-left icon\",\"lfUrl\":_vm.backurl,\"rgIcon\":\"el-icon-s-home icon\",\"rgUrl\":\"/home\"}}),_vm._v(\" \"),_c('div',{staticClass:\"addBorder\"}),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"m-o-address bbGray\"},[_c('div',{staticClass:\"m-o-check\"},[_c('el-checkbox',{on:{\"change\":function($event){return _vm.checkBtn(index,item.add_id)}},model:{value:(item.is_default),callback:function ($$v) {_vm.$set(item, \"is_default\", $$v)},expression:\"item.is_default\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mo-a-name\"},[_c('div',{staticClass:\"wto\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{class:item.is_default?'':'gray'},[_vm._v(\"默认\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mo-a-info\"},[_c('div',{staticClass:\"mo-a-phone\"},[_vm._v(_vm._s(item.phone))]),_vm._v(\" \"),_c('div',{staticClass:\"mo-a-address wto\"},[_vm._v(_vm._s(item.address))])]),_vm._v(\" \"),_c('div',{staticClass:\"mo-a-arrow\",on:{\"click\":function($event){return _vm.editAddress(item.add_id)}}},[_c('i',{staticClass:\"el-icon-edit-outline icon\"})])])}),_vm._v(\" \"),_c('div',{staticClass:\"m-p-foot\"},[_c('el-button',{staticClass:\"m-p-Btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addAddress()}}},[_c('i',{staticClass:\"el-icon-plus el-icon--left\"}),_vm._v(\"添加收货地址\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-18ef256d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/mpage/order/address.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18ef256d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./address.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./address.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./address.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18ef256d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./address.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mpage/order/address.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}