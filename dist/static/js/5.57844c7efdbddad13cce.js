webpackJsonp([5],{Q3Ja:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("gvrZ"),i=a("CCn6"),s=a("yclV"),r=a("ux7m");function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,s){try{var r=e[i](s),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}var l,c,u,d=(l={name:"news",data:function(){return{cn:0,id:"",totalPage:1,organizationId:"",scrollY:0,page:1,rows:10,noData:!1,loadingText:"加载中...",scrollH:300,listData:[],val:""}},components:{headTop:n.a,Scroll:r.a},created:function(){},beforeMount:function(t){var e=document.documentElement.clientHeight||document.body.clientHeight;this.scrollH=e-90-46-102},mounted:function(){this.cn=Object(s.a)("inCN"),this.initData()},computed:{},methods:{initData:function(){this.id=this.$route.query.id,this.organizationId=this.$route.query.organizationId,this.page=1,this.getData()},toDetail:function(t,e){this.$router.push({path:"/home/bannerdetail",query:{id:t,organizationId:e}})},getData:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.page=1,e.next=3,Object(i.f)(t.val,t.page,t.rows);case 3:a=e.sent,n=a.data,console.log(a),0!=n.length&&n.length==t.rows?(t.noData=!1,t.page++,t.listData=n,t.loadingText="上拉加载更多"):(t.page++,t.listData=n,t.noData=!0,t.loadingText="");case 7:case"end":return e.stop()}},e,t)}))()},getmoredata:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t.loadingText||"上拉加载更多"==t.loadingText){e.next=2;break}return e.abrupt("return",!1);case 2:return t.loadingText="加载中...",e.next=5,Object(i.f)(t.val,t.page,t.rows);case 5:if(a=e.sent,n=a.data,t.loadingText="",0!=n.length){e.next=11;break}return t.loadingText="已加载全部",e.abrupt("return",!1);case 11:t.page++,t.listData=t.listData.concat(n),t.loadingText="上拉加载更多";case 14:case"end":return e.stop()}},e,t)}))()}}},u=function(){},(c="created")in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("head-top",{attrs:{webActive:"home",showSearch:"false"}}),t._v(" "),n("div",{staticClass:"sciNewsBg"},[n("div",{staticClass:"globalSearch"},[n("div",{staticClass:"gSearBox"},[n("i",{staticClass:"el-icon-search"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"text",value:"",placeholder:"请输入搜索关键词"},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})]),t._v(" "),n("span",{staticClass:"searBtn",on:{click:function(e){return t.getData()}}},[t._v("搜索")])]),t._v(" "),n("div",{staticClass:"sciNewsList"},[n("scroll",{staticClass:"wrapper",style:"height:"+t.scrollH+"px;",attrs:{data:t.listData,listenScroll:!0,pulldown:!0,pullup:!0},on:{pulldown:t.getData,scrollToEnd:t.getmoredata}},[n("div",{staticClass:"sciList"},[t._l(t.listData,function(e,i){return n("div",{key:i,staticClass:"sciNewsItem",on:{click:function(a){return t.toDetail(e.id,e.organizationId)}}},[n("div",{staticClass:"sciNewsPic"},[n("img",{attrs:{src:e.mainImage?"http://sensing.zwin.work/"+e.mainImage:a("zpfE")}})]),t._v(" "),n("div",{staticClass:"sciNewsInfo"},[n("div",{staticClass:"title"},[t._v(t._s(e.contentTitle))]),t._v(" "),n("div",{staticClass:"subTitle"},[t._v(t._s(e.plainText))]),t._v(" "),n("div",{staticClass:"sciNewsDate"},[t._v(t._s(e.publishTime))])])])}),t._v(" "),n("view",{staticClass:"loading"},[t._v(t._s(t.loadingText))])],2),t._v(" "),n("div",{staticClass:"loading-wrapper"},[t._v(t._s(t.loadingText))])])],1)])],1)},staticRenderFns:[]};var g=a("VU/8")(d,v,!1,function(t){a("RlBv")},null,null);e.default=g.exports},RlBv:function(t,e){},zpfE:function(t,e,a){t.exports=a.p+"static/img/default.49ba873.jpg"}});
//# sourceMappingURL=5.57844c7efdbddad13cce.js.map