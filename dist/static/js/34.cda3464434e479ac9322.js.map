{"version":3,"sources":["webpack:///src/mpage/login/login.vue","webpack:///./src/mpage/login/login.vue?4e7e","webpack:///./src/mpage/login/login.vue"],"names":["login","name","data","currentTab","vertifyUrl","quickForm","mobile","piccode","code","codeToken","passwordForm","username","password","computedTime","quickrules","required","message","trigger","type","pattern","keyrules","components","mheadTop","headTop","mounted","this","initData","computed","_extends","Object","vuex_esm","methods","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","userInfo","user_id","$router","push","path","freshVertify","stop","toggleTab","tab","submitForm","formName","_ref","_this2","$refs","validate","_callee2","valid","res","_context2","mUtils","api","sent","status","token","getUserInfo","query","$message","msg","console","log","abrupt","_x","apply","arguments","getVerifyCode","_this3","_callee3","_context3","test","timer","setInterval","clearInterval","Math","floor","random","created","login_login","render","_vm","_h","$createElement","_c","_self","attrs","titleHead","lfIcon","lfUrl","rgIcon","rgUrl","_v","staticClass","class","active","id","on","click","$event","directives","rawName","value","expression","ref","model","rules","label-width","label","prop","placeholder","callback","$$v","$set","_n","span","staticStyle","height","offset","src","disabled","preventDefault","_s","show-password","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/34.cda3464434e479ac9322.js","sourcesContent":["<template>\n    <div>\n        <mhead-top titleHead=\"logo\" lfIcon=\"el-icon-s-home icon\" lfUrl=\"/home\" rgIcon=\"el-icon-user-solid icon\" rgUrl=\"/userCenter/index/index\"></mhead-top>\n        <div class=\"mBg\">\n            <div class=\"loginBox\">\n                <div class=\"login-panel\">\n                    <div class=\"flex f-nowrap j-bet loginMenu\">\n                        <div class=\"loginT\" v-bind:class=\"{ active: currentTab=='messageLogin'}\" @click=\"toggleTab('messageLogin')\" id=\"phoneLog_btn\">短信登录</div>\n                        <div class=\"loginT\" v-bind:class=\"{ active: currentTab=='keywordLogin'}\" @click=\"toggleTab('keywordLogin')\" id=\"passwordLog_btn\">密码登录</div>\n                    </div>\n                    <!--快捷登录-->\n                    <el-form v-show=\"currentTab=='messageLogin'\" :model=\"quickForm\" :rules=\"quickrules\" ref=\"quickForm\" label-width=\"70px\" class=\"quickForm mt15\">\n                        <el-form-item label=\"手机号\" prop=\"mobile\">\n                            <el-input v-model.number=\"quickForm.mobile\" placeholder=\"请输入手机号\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"校验码\" prop=\"piccode\">\n                            <el-row>\n                                <el-col :span=\"12\">\n                                    <el-input v-model=\"quickForm.piccode\" placeholder=\"请输入图形校验码\"></el-input>\n                                </el-col>\n                                <el-col :offset=\"1\" :span=\"11\" style=\"height: 40px;\">\n                                    <img class=\"vertifyPic\" :src=\"vertifyUrl\" @click=\"freshVertify()\">\n                                </el-col>\n                            </el-row>\n                        </el-form-item>\n                        <el-form-item label=\"验证码\" prop=\"code\">\n                            <el-row >\n                                <el-col :span=\"12\">\n                                    <el-input v-model=\"quickForm.code\" placeholder=\"请输入短信验证码\"></el-input>\n                                </el-col>\n                                <el-col :offset=\"1\" :span=\"11\">\n                                    <el-button type=\"primary\" class=\"w\" :disabled=\"computedTime?true:false\" @click.prevent=\"getVerifyCode\">{{computedTime?'已发送('+computedTime+'s)':'获取短信验证码'}}</el-button>\n                                </el-col>\n                            </el-row>\n                        </el-form-item>\n                        <el-button type=\"primary\" @click=\"submitForm('quickForm')\" class=\"w mt10 mb15\">登录</el-button>\n                    </el-form>\n                    <!--账号登录-->\n                    <el-form v-show=\"currentTab=='keywordLogin'\" :model=\"passwordForm\" :rules=\"keyrules\" ref=\"passwordForm\" label-width=\"70px\" class=\"passwordForm mt15\">\n                        <el-form-item label=\"用户名\" prop=\"username\">\n                            <el-input v-model=\"passwordForm.username\" placeholder=\"请输入用户名\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"密码\" prop=\"password\">\n                            <el-input v-model=\"passwordForm.password\" placeholder=\"请输入密码\" show-password></el-input>\n                        </el-form-item>\n                        <el-button type=\"primary\" @click=\"submitForm('passwordForm')\" class=\"w mt10 mb15\">登录</el-button>\n                    </el-form>\n                </div>\n                <div class=\"loginP_bottom tc\">忘记密码？<router-link class=\"colorGreen\" :to=\"{path:'/login/forgetkey',query:{}}\">找回密码</router-link></div>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\n    import mheadTop from '../../components/mobile/headTop';\n    import {mapState, mapMutations, mapActions} from 'vuex'\n    import {setStore,getStore} from '../../config/mUtils'\n    import {getCode,phoneLogin,keyLogin} from '../../service/api'\n    export default {\n        name: 'login',\n        data(){\n            return{\n                currentTab:'messageLogin',\n                vertifyUrl:'',\n                quickForm:{\n                    mobile:'',\n                    piccode:'',//图形校验码\n                    code:'',\n                    codeToken:''\n                },\n                passwordForm:{\n                    username:'',\n                    password:''\n                },\n                computedTime: 0, //倒数记时\n                quickrules:{\n                    mobile: [\n                        { required: true, message: '请输入手机号',trigger: 'blur'},\n                        { type: 'number', message: '手机号必须为数字值',trigger: 'blur'},\n                        {\n                            pattern: /^1\\d{10}$/,\n                            message: '手机号格式不对',\n                            trigger: 'blur'\n                        }\n                    ],\n                    piccode:[\n                        { required: true, message: '请输入图形校验码',trigger: 'blur'},\n                        {\n                            pattern: /^[0-9]*$/,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ],\n                    code:[\n                        { required: true, message: '请输入短信验证码',trigger: 'blur'},\n                        {\n                            pattern: /^[0-9]*$/,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                },\n                keyrules:{\n                    username:[\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\n                    ],\n                    password:[\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ]\n\n                }\n            }\n        },\n        components:{\n            mheadTop\n        },\n        mounted(){\n            this.initData();\n        },\n        computed:{\n            ...mapState([\n                'userInfo','login'\n            ])\n        },\n        methods:{\n            ...mapActions([\n                'getUserInfo'\n            ]),\n            ...mapMutations([\n                'RECORD_USERINFO',\n            ]),\n            async initData(){\n                if (this.userInfo && this.userInfo.user_id) {\n                    this.$router.push({ path: '/home'});\n                }else{\n                    this.freshVertify();\n                }\n            },\n            toggleTab:function(tab){\n                this.currentTab = tab;\n            },\n            submitForm(formName) {\n                this.$refs[formName].validate(async (valid) => {\n                    if (valid) {\n                        if(this.currentTab=='messageLogin'){\n                            //快捷登录\n                            setStore('mobile', this.quickForm.mobile);\n                            var res = await phoneLogin(this.quickForm.mobile,this.quickForm.code,this.quickForm.codeToken);\n                            if(res){\n                                if(res.status==12000){\n                                    //登录成功\n                                    setStore('token', res.token);\n                                    this.getUserInfo();\n                                    //this.RECORD_USERINFO(this.userInfo);\n                                    this.$router.push({ path: '/home' });\n                                }else if(res.status == 13000){\n                                    //已登录，未填信息\n                                    this.$router.push({ path: '/login/userInfo',query: { mobile: this.quickForm.mobile } });\n                                }else{\n                                    //其他验证状况\n                                    this.$message({\n                                        message: res.msg,\n                                        type: 'warning'\n                                    });\n                                }\n                            }\n                        }else{\n                            //账号密码\n                            var res = await keyLogin(this.passwordForm.username,this.passwordForm.password);\n                            if(res){\n                                if(res.status == 12000){\n                                    setStore('token', res.token);\n                                    this.getUserInfo();\n                                    console.log(\"账号登录成功 获取信息\");\n                                    console.log(this.userInfo);\n                                    //this.RECORD_USERINFO(this.userInfo);\n                                    this.$router.push({ path: '/home' });\n                                }\n                                this.$message({\n                                    message: res.msg,\n                                    type: res.status==12000?'success':'warning'\n                                });\n                            }\n                        }\n\n\n\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            //获取短信验证码\n            async getVerifyCode(){\n                if (this.quickForm.mobile=='') {\n                    this.$message({\n                        message: '手机号码不能为空',\n                        type: 'warning'\n                    });\n                }else if(!(/^1\\d{10}$/gi.test(this.quickForm.mobile))){\n                    this.$message({\n                        message: '手机格式不正确',\n                        type: 'warning'\n                    });\n                }else if(this.quickForm.piccode==''){\n                    this.$message({\n                        message: '图形校验码不能为空',\n                        type: 'warning'\n                    });\n                }else{\n                    this.computedTime = 30;\n                    this.timer = setInterval(() => {\n                        this.computedTime --;\n                        if (this.computedTime == 0) {\n                            clearInterval(this.timer)\n                        }\n                    }, 1000);\n\n                    var res = await getCode(\n                        this.quickForm.mobile,\n                        this.quickForm.piccode,\n                        'loginType'\n                    );\n                    if(res.status==12000){\n                        this.quickForm.codeToken = res.codeToken || '';\n                        this.$message({\n                            message: res.msg,\n                            type: 'success'\n                        });\n                    }else{\n                        this.$message({\n                            message: res.msg,\n                            type: 'warning'\n                        });\n\n                        this.freshVertify();\n                        this.computedTime = 0;\n                        clearInterval(this.timer);\n                    }\n\n                }\n\n            },\n            freshVertify(){\n                this.vertifyUrl = 'http://api.sixmol.com/api/v1/VerifyHelper?i=' + Math.floor((Math.random() * 10) + 1);\n            },\n\n\n        },\n        created(){\n\n        },\n\n    }\n\n</script>\n\n<style lang=\"scss\">\n    @import '../../style/mixin';\n    .mBg{\n        background-color:$bggray;\n        display: block;\n        width:100%;\n        height: 100%;\n        min-height: px2rem(1140);\n        padding:px2rem(90) 0 px2rem(104) 0;\n    }\n    .loginBox{\n        width:px2rem(750);\n        margin-top: px2rem(20);\n    }\n    .login-panel{\n        background-color: #fff;\n        padding:px2rem(20);\n        flex-shrink: 0;\n    }\n    .loginT{font-size: 16px;text-align: center;width:50%;line-height: 40px;cursor: pointer;}\n    .loginT.active{border-bottom: 3px solid #0bb8b2;}\n    .loginP_bottom{\n        background-color: #ddd;color:#333;\n        line-height: 60px;\n        position: fixed;\n        bottom:0;\n        left: 0;\n        width:px2rem(750);\n    }\n    .loginP_bottom a:hover{text-decoration: underline;}\n    .vertifyPic{\n        height:40px;\n        width:100%;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/mpage/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mhead-top',{attrs:{\"titleHead\":\"logo\",\"lfIcon\":\"el-icon-s-home icon\",\"lfUrl\":\"/home\",\"rgIcon\":\"el-icon-user-solid icon\",\"rgUrl\":\"/userCenter/index/index\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mBg\"},[_c('div',{staticClass:\"loginBox\"},[_c('div',{staticClass:\"login-panel\"},[_c('div',{staticClass:\"flex f-nowrap j-bet loginMenu\"},[_c('div',{staticClass:\"loginT\",class:{ active: _vm.currentTab=='messageLogin'},attrs:{\"id\":\"phoneLog_btn\"},on:{\"click\":function($event){return _vm.toggleTab('messageLogin')}}},[_vm._v(\"短信登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"loginT\",class:{ active: _vm.currentTab=='keywordLogin'},attrs:{\"id\":\"passwordLog_btn\"},on:{\"click\":function($event){return _vm.toggleTab('keywordLogin')}}},[_vm._v(\"密码登录\")])]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab=='messageLogin'),expression:\"currentTab=='messageLogin'\"}],ref:\"quickForm\",staticClass:\"quickForm mt15\",attrs:{\"model\":_vm.quickForm,\"rules\":_vm.quickrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.quickForm.mobile),callback:function ($$v) {_vm.$set(_vm.quickForm, \"mobile\", _vm._n($$v))},expression:\"quickForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"校验码\",\"prop\":\"piccode\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"请输入图形校验码\"},model:{value:(_vm.quickForm.piccode),callback:function ($$v) {_vm.$set(_vm.quickForm, \"piccode\", $$v)},expression:\"quickForm.piccode\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"40px\"},attrs:{\"offset\":1,\"span\":11}},[_c('img',{staticClass:\"vertifyPic\",attrs:{\"src\":_vm.vertifyUrl},on:{\"click\":function($event){return _vm.freshVertify()}}})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"code\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"请输入短信验证码\"},model:{value:(_vm.quickForm.code),callback:function ($$v) {_vm.$set(_vm.quickForm, \"code\", $$v)},expression:\"quickForm.code\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":1,\"span\":11}},[_c('el-button',{staticClass:\"w\",attrs:{\"type\":\"primary\",\"disabled\":_vm.computedTime?true:false},on:{\"click\":function($event){$event.preventDefault();return _vm.getVerifyCode($event)}}},[_vm._v(_vm._s(_vm.computedTime?'已发送('+_vm.computedTime+'s)':'获取短信验证码'))])],1)],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"w mt10 mb15\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('quickForm')}}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab=='keywordLogin'),expression:\"currentTab=='keywordLogin'\"}],ref:\"passwordForm\",staticClass:\"passwordForm mt15\",attrs:{\"model\":_vm.passwordForm,\"rules\":_vm.keyrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.passwordForm.username),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"username\", $$v)},expression:\"passwordForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.passwordForm.password),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"password\", $$v)},expression:\"passwordForm.password\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"w mt10 mb15\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('passwordForm')}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"loginP_bottom tc\"},[_vm._v(\"忘记密码？\"),_c('router-link',{staticClass:\"colorGreen\",attrs:{\"to\":{path:'/login/forgetkey',query:{}}}},[_vm._v(\"找回密码\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4733fcde\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/mpage/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4733fcde\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4733fcde\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mpage/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}