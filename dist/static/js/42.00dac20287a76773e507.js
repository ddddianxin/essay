webpackJsonp([42],{Ybh1:function(t,e){},"p8r/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("gvrZ"),n=s("CCn6"),i=s("NYxO"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t};function a(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}var d={name:"mOrderAddress",data:function(){return{goodsId:"",speId:"",number:"",type:0,list:"",backurl:""}},components:{mheadTop:r.a},mounted:function(){this.initData(),this.getUserInfo()},computed:o({},Object(i.d)(["userInfo","addressId"])),methods:o({},Object(i.b)(["saveAddress","getUserInfo"]),Object(i.c)(["CHOOSE_ADDRESS"]),{initData:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.goodsId=e.$route.query.goodsId||"",e.speId=e.$route.query.speId||"",e.number=e.$route.query.number||0,e.type=e.$route.query.type||0,0==e.number&&0==e.type?e.backurl="/good/detail?specifications_id="+e.speId:e.backurl="/order/confirm?goodsId="+e.goodsId+"&speId="+e.speId+"&number="+e.number+"&type="+e.type,!e.userInfo||!e.userInfo.user_id){t.next=10;break}return t.next=8,Object(n.f)();case 8:s=t.sent,e.list=[].concat(a(s));case 10:if(e.addressId)for(r=0;r<e.list.length;r++)e.list[r].add_id==e.addressId?e.list[r].is_default=!0:e.list[r].is_default=!1;case 11:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function r(n,i){try{var o=e[n](i),a=o.value}catch(t){return void s(t)}if(!o.done)return Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}("next")})})()},checkBtn:function(t,e){this.CHOOSE_ADDRESS(this.list[t],e),0==this.number&&0==this.type?this.$router.push({path:"/good/detail",query:{specifications_id:this.speId}}):this.$router.push({path:"/order/confirm",query:{goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}})},editAddress:function(t){this.$router.push({path:"/order/add",query:{add_id:t,goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}})},addAddress:function(){this.list.length>=6?this.$message({message:"地址已达到上限，不能超过6条哦",type:"warning"}):this.$router.push({path:"/order/add",query:{goodsId:this.goodsId,speId:this.speId,number:this.number,type:this.type}})}}),created:function(){},watch:{userInfo:function(t){t&&t.user_id&&this.initData()}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mBg"},[s("mhead-top",{attrs:{titleHead:"选择收货地址",lfIcon:"el-icon-arrow-left icon",lfUrl:t.backurl,rgIcon:"el-icon-s-home icon",rgUrl:"/home"}}),t._v(" "),s("div",{staticClass:"addBorder"}),t._v(" "),t._l(t.list,function(e,r){return s("div",{key:r,staticClass:"m-o-address bbGray"},[s("div",{staticClass:"m-o-check"},[s("el-checkbox",{on:{change:function(s){return t.checkBtn(r,e.add_id)}},model:{value:e.is_default,callback:function(s){t.$set(e,"is_default",s)},expression:"item.is_default"}})],1),t._v(" "),s("div",{staticClass:"mo-a-name"},[s("div",{staticClass:"wto"},[t._v(t._s(e.name))]),t._v(" "),s("span",{class:e.is_default?"":"gray"},[t._v("默认")])]),t._v(" "),s("div",{staticClass:"mo-a-info"},[s("div",{staticClass:"mo-a-phone"},[t._v(t._s(e.phone))]),t._v(" "),s("div",{staticClass:"mo-a-address wto"},[t._v(t._s(e.address))])]),t._v(" "),s("div",{staticClass:"mo-a-arrow",on:{click:function(s){return t.editAddress(e.add_id)}}},[s("i",{staticClass:"el-icon-edit-outline icon"})])])}),t._v(" "),s("div",{staticClass:"m-p-foot"},[s("el-button",{staticClass:"m-p-Btn",attrs:{type:"primary"},on:{click:function(e){return t.addAddress()}}},[s("i",{staticClass:"el-icon-plus el-icon--left"}),t._v("添加收货地址")])],1)],2)},staticRenderFns:[]};var c=s("VU/8")(d,u,!1,function(t){s("Ybh1")},null,null);e.default=c.exports}});
//# sourceMappingURL=42.00dac20287a76773e507.js.map