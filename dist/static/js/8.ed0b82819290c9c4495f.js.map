{"version":3,"sources":["webpack:///./src/images/loginPic.png","webpack:///src/page/login/login.vue","webpack:///./src/page/login/login.vue?1920","webpack:///./src/page/login/login.vue"],"names":["module","exports","__webpack_require__","p","login","name","data","currentTab","vertifyUrl","quickForm","mobile","piccode","code","codeToken","passwordForm","username","password","computedTime","quickrules","required","message","trigger","type","pattern","keyrules","components","headTop","mounted","this","initData","computed","_extends","Object","vuex_esm","methods","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","freshVertify","stop","toggleTab","tab","submitForm","formName","_ref","_this2","$refs","validate","_callee2","valid","res","_context2","mUtils","api","sent","status","token","getUserInfo","$router","push","params","path","query","$message","msg","console","log","abrupt","_x","apply","arguments","getVerifyCode","_this3","_callee3","_context3","test","timer","setInterval","clearInterval","Math","floor","random","created","login_login","render","_vm","_h","$createElement","_c","_self","attrs","webActive","_v","staticClass","id","_m","class","active","on","click","$event","directives","rawName","value","expression","ref","model","rules","label-width","label","prop","placeholder","callback","$$v","$set","_n","span","staticStyle","height","offset","src","disabled","preventDefault","_s","show-password","to","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.ed0b82819290c9c4495f.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/loginPic.98f02ed.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/loginPic.png\n// module id = H+0X\n// module chunks = 8","<template>\n    <div>\n        <head-top webActive=\"home\"></head-top>\n        <div class=\"bgLogin\" id=\"login\">\n            <div class=\"container\">\n                <div class=\"loginBg flex f-nowrap j-bet\">\n                    <div class=\"login-des\">\n                        <img src=\"../../images/loginPic.png\">\n                    </div>\n                    <div class=\"loginBox\">\n                        <div class=\"login-panel\">\n                            <div class=\"flex f-nowrap j-bet loginMenu\">\n                                <div class=\"loginT\" v-bind:class=\"{ active: currentTab=='messageLogin'}\" @click=\"toggleTab('messageLogin')\" id=\"phoneLog_btn\">短信登录</div>\n                                <div class=\"loginT\" v-bind:class=\"{ active: currentTab=='keywordLogin'}\" @click=\"toggleTab('keywordLogin')\" id=\"passwordLog_btn\">密码登录</div>\n                            </div>\n                            <!--快捷登录-->\n                            <el-form v-show=\"currentTab=='messageLogin'\" :model=\"quickForm\" :rules=\"quickrules\" ref=\"quickForm\" label-width=\"70px\" class=\"quickForm mt15\">\n                                <el-form-item label=\"手机号\" prop=\"mobile\">\n                                    <el-input v-model.number=\"quickForm.mobile\" type=\"number\" placeholder=\"请输入手机号\"></el-input>\n                                </el-form-item>\n                                <el-form-item label=\"校验码\" prop=\"piccode\">\n                                    <el-row>\n                                        <el-col :span=\"12\">\n                                            <el-input v-model=\"quickForm.piccode\" placeholder=\"请输入图形校验码\"></el-input>\n                                        </el-col>\n                                        <el-col :offset=\"1\" :span=\"11\" style=\"height: 40px;\">\n                                            <img class=\"vertifyPic\" :src=\"vertifyUrl\" @click=\"freshVertify()\">\n                                        </el-col>\n                                    </el-row>\n                                </el-form-item>\n                                <el-form-item label=\"验证码\" prop=\"code\">\n                                    <el-row>\n                                        <el-col :span=\"12\">\n                                            <el-input v-model=\"quickForm.code\" placeholder=\"请输入短信验证码\"></el-input>\n                                        </el-col>\n                                        <el-col :offset=\"1\" :span=\"11\" >\n                                            <el-button type=\"primary\" class=\"w\" :disabled=\"computedTime?true:false\" @click.prevent=\"getVerifyCode\">{{computedTime?'已发送('+computedTime+'s)':'获取短信验证码'}}</el-button>\n                                        </el-col>\n                                    </el-row>\n                                </el-form-item>\n                                <el-button type=\"primary\" @click=\"submitForm('quickForm')\" class=\"w mt10 mb15\">登录</el-button>\n                            </el-form>\n                            <!--账号登录-->\n                            <el-form v-show=\"currentTab=='keywordLogin'\" :model=\"passwordForm\" :rules=\"keyrules\" ref=\"passwordForm\" label-width=\"70px\" class=\"passwordForm mt15\">\n                                <el-form-item label=\"用户名\" prop=\"username\">\n                                    <el-input v-model=\"passwordForm.username\" placeholder=\"请输入用户名\"></el-input>\n                                </el-form-item>\n                                <el-form-item label=\"密码\" prop=\"password\">\n                                    <el-input v-model=\"passwordForm.password\" placeholder=\"请输入密码\" show-password></el-input>\n                                </el-form-item>\n                                <el-button type=\"primary\" @click=\"submitForm('passwordForm')\" class=\"w mt10 mb15\">登录</el-button>\n                            </el-form>\n                        </div>\n                        <div class=\"loginP_bottom tc\">忘记密码？<router-link class=\"colorGreen\" :to=\"{path:'/login/forgetkey',query:{}}\">找回密码</router-link></div>\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n</template>\n\n\n<script>\n    import {getCode,phoneLogin,keyLogin} from '../../service/api'\n    import {setStore,getStore} from '../../config/mUtils'\n    import headTop from '../../components/header/headTop';\n    import {mapState, mapMutations, mapActions} from 'vuex'\n    export default {\n        name: 'login',\n        data(){\n            return{\n                currentTab:'messageLogin',\n                vertifyUrl:'',\n                quickForm:{\n                    mobile:'',\n                    piccode:'',//图形校验码\n                    code:'',\n                    codeToken:''\n                },\n                passwordForm:{\n                    username:'',\n                    password:''\n                },\n                computedTime: 0, //倒数记时\n                quickrules:{\n                    mobile: [\n                        { required: true, message: '请输入手机号',trigger: 'blur'},\n                        { type: 'number', message: '手机号必须为数字值',trigger: 'blur'},\n                        {\n                            pattern: /^1\\d{10}$/,\n                            message: '手机号格式不对',\n                            trigger: 'blur'\n                        }\n                    ],\n                    piccode:[\n                        { required: true, message: '请输入图形校验码',trigger: 'blur'},\n                        {\n                            pattern: /^[0-9]*$/,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ],\n                    code:[\n                        { required: true, message: '请输入短信验证码',trigger: 'blur'},\n                        {\n                            pattern: /^[0-9]*$/,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                },\n                keyrules:{\n                    username:[\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\n                    ],\n                    password:[\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ]\n\n                },\n            }\n        },\n        components:{\n            headTop\n        },\n        mounted(){\n            this.initData();\n        },\n        computed:{\n            ...mapState([\n                'userInfo','login'\n            ])\n        },\n        methods:{\n            ...mapActions([\n                'getUserInfo'\n            ]),\n            ...mapMutations([\n                'RECORD_USERINFO',\n            ]),\n            async initData(){\n                this.freshVertify();\n            },\n            toggleTab:function(tab){\n                this.currentTab = tab;\n            },\n            submitForm(formName) {\n                this.$refs[formName].validate(async (valid) => {\n                    if (valid) {\n                        if(this.currentTab=='messageLogin'){\n                            //快捷登录\n                            setStore('mobile', this.quickForm.mobile);\n                            var res = await phoneLogin(this.quickForm.mobile,this.quickForm.code,this.quickForm.codeToken);\n                            if(res){\n                                if(res.status==12000){\n                                    //登录成功\n                                    setStore('token', res.token);\n                                    this.getUserInfo();\n                                    //this.RECORD_USERINFO(this.userInfo);\n                                    this.$router.push({ name: 'home', params: {}})\n                                }else if(res.status == 13000){\n                                    //已登录，未填信息\n                                    this.$router.push({ path: '/login/userInfo',query: { mobile: this.quickForm.mobile } });\n\n                                }else{\n                                    //其他验证状况\n                                    this.$message({\n                                        message: res.msg,\n                                        type: 'warning'\n                                    });\n                                }\n                            }\n                        }else{\n                            //账号密码\n                            var res = await keyLogin(this.passwordForm.username,this.passwordForm.password);\n                            if(res){\n                                if(res.status == 12000){\n                                    setStore('token', res.token);\n                                    this.getUserInfo();\n                                    //this.RECORD_USERINFO(this.userInfo);\n                                    this.$router.push({ name: 'home', params: {}});\n                                }\n                                this.$message({\n                                    message: res.msg,\n                                    type: res.status==12000?'success':'warning'\n                                });\n                            }\n                        }\n\n\n\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            //获取短信验证码\n            async getVerifyCode(){\n                if (this.quickForm.mobile=='') {\n                    this.$message({\n                        message: '手机号码不能为空',\n                        type: 'warning'\n                    });\n                }else if(!(/^1\\d{10}$/gi.test(this.quickForm.mobile))){\n                    this.$message({\n                        message: '手机格式不正确',\n                        type: 'warning'\n                    });\n                }else if(this.quickForm.piccode==''){\n                    this.$message({\n                        message: '图形校验码不能为空',\n                        type: 'warning'\n                    });\n                }else{\n                    this.computedTime = 30;\n                    this.timer = setInterval(() => {\n                        this.computedTime --;\n                        if (this.computedTime == 0) {\n                            clearInterval(this.timer)\n                        }\n                    }, 1000);\n\n                    var res = await getCode(\n                        this.quickForm.mobile,\n                        this.quickForm.piccode,\n                        'loginType'\n                    );\n                    if(res.status==12000){\n                        this.quickForm.codeToken = res.codeToken || '';\n                        this.$message({\n                            message: res.msg,\n                            type: 'success'\n                        });\n                    }else{\n                        this.$message({\n                            message: res.msg,\n                            type: 'warning'\n                        });\n                        this.freshVertify();\n                        this.computedTime = 0;\n                        clearInterval(this.timer);\n                    }\n                }\n            },\n            freshVertify(){\n                this.vertifyUrl = 'http://api.sixmol.com/api/v1/VerifyHelper?i=' + Math.floor((Math.random() * 10) + 1);\n            },\n\n\n        },\n        created(){\n\n        },\n\n    }\n\n</script>\n\n<style scoped>\n    /*登录*/\n    .bgLogin{\n        background: -webkit-linear-gradient(30deg,#007991, #78ffd6); /* Safari 5.1 - 6.0 */\n        background: -o-linear-gradient(30deg,#007991, #78ffd6); /* Opera 11.1 - 12.0 */\n        background: -moz-linear-gradient(30deg,#007991, #78ffd6); /* Firefox 3.6 - 15 */\n        background: linear-gradient(30deg,#007991, #78ffd6); /* 标准的语法 */\n    }\n    .loginBg{padding:80px 0;}\n    .login-des{width: 100%;text-align: center;margin-right: 30px;flex-shrink: 1;}\n    .login-des img{width:500px;margin:0 auto;}\n    .loginBox{min-width: 420px;}\n    .login-panel{background-color: #fff;border-radius: 10px 10px 0 0;padding:15px 30px;flex-shrink: 0;}\n    .loginT{font-size: 16px;text-align: center;width:50%;line-height: 40px;cursor: pointer;}\n    .loginT.active{border-bottom: 3px solid #0bb8b2;}\n    .loginP_bottom{background-color: #ddd;position:relative;color:#333;border-top:1px solid #eee;border-radius: 0 0 10px 10px;line-height: 60px;font-size: 14px;width:100%;height:60px;}\n    .loginP_bottom a:hover{text-decoration: underline;}\n    .vertifyPic{\n        height:40px;\n        width:100%;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('head-top',{attrs:{\"webActive\":\"home\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bgLogin\",attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"loginBg flex f-nowrap j-bet\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"loginBox\"},[_c('div',{staticClass:\"login-panel\"},[_c('div',{staticClass:\"flex f-nowrap j-bet loginMenu\"},[_c('div',{staticClass:\"loginT\",class:{ active: _vm.currentTab=='messageLogin'},attrs:{\"id\":\"phoneLog_btn\"},on:{\"click\":function($event){return _vm.toggleTab('messageLogin')}}},[_vm._v(\"短信登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"loginT\",class:{ active: _vm.currentTab=='keywordLogin'},attrs:{\"id\":\"passwordLog_btn\"},on:{\"click\":function($event){return _vm.toggleTab('keywordLogin')}}},[_vm._v(\"密码登录\")])]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab=='messageLogin'),expression:\"currentTab=='messageLogin'\"}],ref:\"quickForm\",staticClass:\"quickForm mt15\",attrs:{\"model\":_vm.quickForm,\"rules\":_vm.quickrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.quickForm.mobile),callback:function ($$v) {_vm.$set(_vm.quickForm, \"mobile\", _vm._n($$v))},expression:\"quickForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"校验码\",\"prop\":\"piccode\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"请输入图形校验码\"},model:{value:(_vm.quickForm.piccode),callback:function ($$v) {_vm.$set(_vm.quickForm, \"piccode\", $$v)},expression:\"quickForm.piccode\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"40px\"},attrs:{\"offset\":1,\"span\":11}},[_c('img',{staticClass:\"vertifyPic\",attrs:{\"src\":_vm.vertifyUrl},on:{\"click\":function($event){return _vm.freshVertify()}}})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"code\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"请输入短信验证码\"},model:{value:(_vm.quickForm.code),callback:function ($$v) {_vm.$set(_vm.quickForm, \"code\", $$v)},expression:\"quickForm.code\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":1,\"span\":11}},[_c('el-button',{staticClass:\"w\",attrs:{\"type\":\"primary\",\"disabled\":_vm.computedTime?true:false},on:{\"click\":function($event){$event.preventDefault();return _vm.getVerifyCode($event)}}},[_vm._v(_vm._s(_vm.computedTime?'已发送('+_vm.computedTime+'s)':'获取短信验证码'))])],1)],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"w mt10 mb15\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('quickForm')}}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab=='keywordLogin'),expression:\"currentTab=='keywordLogin'\"}],ref:\"passwordForm\",staticClass:\"passwordForm mt15\",attrs:{\"model\":_vm.passwordForm,\"rules\":_vm.keyrules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.passwordForm.username),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"username\", $$v)},expression:\"passwordForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.passwordForm.password),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"password\", $$v)},expression:\"passwordForm.password\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"w mt10 mb15\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('passwordForm')}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"loginP_bottom tc\"},[_vm._v(\"忘记密码？\"),_c('router-link',{staticClass:\"colorGreen\",attrs:{\"to\":{path:'/login/forgetkey',query:{}}}},[_vm._v(\"找回密码\")])],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-des\"},[_c('img',{attrs:{\"src\":require(\"../../images/loginPic.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06c089b1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06c089b1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06c089b1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06c089b1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}