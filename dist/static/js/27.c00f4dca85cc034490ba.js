webpackJsonp([27],{ZBCj:function(e,r){},wWT4:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("gvrZ"),i=t("CCn6"),s=t("95YI"),n=t.n(s);function o(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function a(i,s){try{var n=r[i](s),o=n.value}catch(e){return void t(e)}if(!n.done)return Promise.resolve(o).then(function(e){a("next",e)},function(e){a("throw",e)});e(o)}("next")})}}var c={name:"mAdd",data:function(){return{add_id:"",submitType:0,form:{add_id:"",place:"",address_detail:"",mobile:"",name:"",phone:"",province:"",city:"",area:""},drawer:!1,selplace:"",rules:{place:[{required:!0,message:"请选择所在地区"}],address_detail:[{required:!0,type:"string",message:"请填写详细地址",trigger:"blur"}],name:[{required:!0,type:"string",message:"请填写收货人",trigger:"blur"}],mobile:[{required:!0,message:"请填写手机号码"},{type:"number",message:"手机号必须为数字值"}]}}},components:{mheadTop:a.a,VDistpicker:n.a},mounted:function(){this.initData()},computed:{},methods:{initData:function(){var e=this;return o(regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.add_id=e.$route.query.add_id||"",""==e.add_id){r.next=14;break}return e.submitType=1,r.next=5,Object(i.t)(e.add_id);case 5:t=r.sent,e.form.add_id=t.address_id,e.form.place=t.province+" "+t.city+" "+t.district,e.form.address_detail=t.address_detail,e.form.mobile=parseInt(t.mobile),e.form.name=t.name,e.form.province=t.province,e.form.city=t.city,e.form.area=t.district;case 14:case"end":return r.stop()}},r,e)}))()},submitForm:function(e){var r,t=this;this.$refs[e].validate((r=o(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}if(0!=t.submitType){e.next=7;break}return e.next=4,Object(i.a)(t.form.address_detail,t.form.mobile,t.form.name,t.form.province,t.form.city,t.form.area);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,Object(i.s)(t.form.add_id,t.form.address_detail,t.form.mobile,t.form.name,t.form.province,t.form.city,t.form.area);case 9:a=e.sent;case 10:a&&(t.$message({message:a.msg,type:12e3==a.status?"success":"warning"}),12e3==a.status&&t.$router.push({path:"/userCenter/address/address"})),e.next=15;break;case 13:return console.log("error submit!!"),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,t)})),function(e){return r.apply(this,arguments)}))},onSelected:function(e){this.form.province=e.province.value,this.form.city=e.city.value,this.form.area=e.area.value,this.form.place=e.province.value+e.city.value+e.area.value,console.log(e),this.drawer=!1},cancel:function(){this.$router.go(-1)}},created:function(){}},m={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("mhead-top",{attrs:{titleHead:"新建/编辑收货地址",lfIcon:"el-icon-arrow-left icon",lfUrl:"/userCenter/address/address",rgIcon:"el-icon-s-home icon",rgUrl:"/home"}}),e._v(" "),t("div",{staticClass:"mBg"},[t("div",{staticClass:"m-edit-add"},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-position":"top","label-width":"80px",size:"mini"}},[t("el-form-item",{staticClass:"m-f-h",attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{size:"medium",placeholder:"姓名"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{staticClass:"m-f-h",attrs:{label:"手机号码",prop:"mobile"}},[t("el-input",{attrs:{size:"medium",placeholder:"手机号码"},model:{value:e.form.mobile,callback:function(r){e.$set(e.form,"mobile",e._n(r))},expression:"form.mobile"}})],1),e._v(" "),t("el-form-item",{staticClass:"m-f-h",attrs:{label:"省份、城市、区县",prop:"place"}},[t("el-input",{attrs:{placeholder:"省份、城市、区",size:"medium"},on:{focus:function(r){e.drawer=!0}},model:{value:e.form.province+" "+e.form.city+" "+e.form.area,callback:function(r){e.$set(e.form.province+" "+e.form.city+" "+e.form,"area",r)},expression:"form.province+' '+form.city+' '+form.area"}}),e._v(" "),t("el-drawer",{staticClass:"g-drawer",attrs:{title:"请选择",visible:e.drawer,direction:"btt"},on:{"update:visible":function(r){e.drawer=r}}},[t("v-distpicker",{attrs:{type:"mobile"},on:{selected:e.onSelected}})],1)],1),e._v(" "),t("el-form-item",{staticClass:"m-f-h",attrs:{label:"详细地址，如街道，楼盘号等",prop:"address_detail"}},[t("el-input",{attrs:{type:"textarea",placeholder:"详细地址，如街道，楼盘号等",rows:4},model:{value:e.form.address_detail,callback:function(r){e.$set(e.form,"address_detail",r)},expression:"form.address_detail"}})],1),e._v(" "),t("div",{staticClass:"formBtn"},[t("div",{staticClass:"m-edit-btn",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),t("div",{staticClass:"m-edit-btn safe",on:{click:function(r){return e.submitForm("form")}}},[e._v("保存")])])],1)],1)])],1)},staticRenderFns:[]};var l=t("VU/8")(c,m,!1,function(e){t("ZBCj")},null,null);r.default=l.exports}});
//# sourceMappingURL=27.c00f4dca85cc034490ba.js.map