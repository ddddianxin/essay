webpackJsonp([24],{EUr8:function(t,s){},ucXP:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("NYxO"),a=i("XQra"),o=i("USSz"),n=i("CCn6"),r=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t};function _(t){return function(){var s=t.apply(this,arguments);return new Promise(function(t,i){return function e(a,o){try{var n=s[a](o),r=n.value}catch(t){return void i(t)}if(!n.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});t(r)}("next")})}}var c={name:"order",data:function(){return{order_id:"",info:{invoice:""}}},components:{sideBar:a.a,headTop:o.a},mounted:function(){this.initData()},computed:r({},Object(e.d)(["userInfo","login"]),{waitPrice:function(){return this.info.price_total-this.info.is_pay}}),methods:{initData:function(){var t=this;return _(regeneratorRuntime.mark(function s(){var i,e,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.order_id=t.$route.query.order_id||"",!t.userInfo||!t.userInfo.user_id){s.next=6;break}return s.next=4,Object(n.A)(t.order_id);case 4:for(t.info=s.sent,i=0;i<t.info.goods.length;i++)e=100*t.info.goods[i].price,a=parseInt(t.info.goods[i].number)*parseInt(e)/100,t.info.goods[i].itotal=a.toFixed(2);case 6:console.log(t.info);case 7:case"end":return s.stop()}},s,t)}))()},cancelOrder:function(t){var s=this;console.log(t),this.$confirm("你确定要取消该订单吗?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_(regeneratorRuntime.mark(function i(){var e;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(n.K)(t);case 2:12e3==(e=i.sent).status?(s.$message({message:e.msg,type:"success"}),s.initData()):s.$message({message:e.msg,type:"warning"});case 4:case"end":return i.stop()}},i,s)}))).catch(function(){})},toEvaluate:function(t){this.$router.push({path:"/userCenter/evaluate/evaluate",query:{order_id:t}})},payNow:function(t){this.$router.push({path:"/order/pay",query:{orderId:t}})},orderConfirm:function(t){var s=this;console.log("order_id:"+this.order_id),this.$confirm("是否确认收货?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_(regeneratorRuntime.mark(function i(){var e;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(n.L)(t);case 2:12e3==(e=i.sent).status?(s.$message({message:e.msg,type:"success"}),s.initData()):s.$message({message:e.msg,type:"warning"});case 4:case"end":return i.stop()}},i,s)}))).catch(function(){})},goBack:function(){this.$router.go(-1)}},created:function(){},watch:{userInfo:function(t){t&&t.user_id&&!this.list&&this.initData()}}},v={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("head-top",{attrs:{webActive:"mine"}}),t._v(" "),i("div",{staticClass:"bgGray",attrs:{id:"unIndex"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"ucBg"},[i("side-bar"),t._v(" "),i("div",{staticClass:"ucPanel ucP_Box"},[i("el-page-header",{attrs:{content:"订单详情"},on:{back:t.goBack}}),t._v(" "),i("div",{staticClass:"flex f-nowrap j-bet uc_od_head"},[i("div",[i("span",{staticClass:"mr15"},[t._v("订单编号："+t._s(t.info.order_code))]),t._v(" "),i("span",[t._v("下单时间："+t._s(t.info.time))])]),t._v(" "),i("div",["待付款"==t.info.state?i("el-button",{attrs:{size:"small"},on:{click:function(s){return t.cancelOrder(t.order_id)}}},[t._v("取消订单")]):t._e(),t._v(" "),"配送中"==t.info.state||"已付款"==t.info.state?i("el-button",{staticClass:"btn",attrs:{size:"small",type:"primary"},on:{click:function(s){return t.orderConfirm(t.order_id)}}},[t._v("确认收货")]):t._e(),t._v(" "),"已签收"==t.info.state&&0==t.info.is_comment?i("el-button",{staticClass:"btn",attrs:{size:"small",plain:"",type:"primary"},on:{click:function(s){return t.toEvaluate(t.order_id)}}},[t._v("评价")]):t._e(),t._v(" "),"已签收"==t.info.state&&1==t.info.is_comment?i("el-button",{staticClass:"btn f16",attrs:{size:"small",type:"text",disabled:""}},[t._v("已评价")]):t._e(),t._v(" "),"待付款"==t.info.state?i("el-button",{staticClass:"btn",attrs:{size:"small",type:"warning",plain:""},on:{click:function(s){return t.payNow(t.order_id)}}},[t._v("立即付款")]):t._e(),t._v(" "),i("span",{class:"待付款"==t.info.state?"colorPrice stateText":"取消订单"==t.info.state?"color9 stateText":"colorGreen stateText"},[t._v(t._s(t.info.state))])],1)]),t._v(" "),t._l(t.info.goods,function(s,e){return i("div",{key:e,staticClass:"ucod_pro flex f-nowrap j-bet"},[i("div",{staticClass:"flex f-nowrap od_des"},[i("div",{staticClass:"od_img"},[i("img",{attrs:{src:s.pic}})]),t._v(" "),i("div",{staticClass:"od_info"},[i("h2",[t._v(t._s(s.name))]),t._v(" "),i("p",[t._v("规格："+t._s(s.spec_name)+t._s(s.spec_unit))])])]),t._v(" "),i("div",{staticClass:"od_uPrice tc"},[t._v("￥"+t._s(s.price))]),t._v(" "),i("div",{staticClass:"od_num tc"},[t._v("数量：×"+t._s(s.number))]),t._v(" "),i("div",{staticClass:"od_price tr"},[i("p",{staticClass:"fb color3 f16 mt5"},[t._v("￥"+t._s(s.itotal))])])])}),t._v(" "),""!=t.info.address?i("div",[t._m(0),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("收货人：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.username))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("联系电话：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.mobile))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("收货地址：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.address))])])]):t._e(),t._v(" "),i("div",{staticClass:"hr mt15"}),t._v(" "),t.info.logistics?i("div",{staticClass:"flex f-nowrap j-bet uoD_send"},[i("div",{staticClass:"uoD_s_lf"},[i("h1",{staticClass:"order_tit mt15"},[t._v("配送信息")]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("物流状态：")]),t._v(" "),i("div",{staticClass:"uoD_rg colorGreen"},[t._v(t._s(12010==t.info.logistics.code?"暂无快递物流信息":t.info.logistics.data[0].status))])]),t._v(" "),t.info.logistics.data?i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("承运快递：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.logistics.data[0].brand))])]):t._e(),t._v(" "),t.info.logistics.data?i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("运单编号：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.logistics.data[0].no))])]):t._e()]),t._v(" "),t.info.logistics.data?i("div",{staticClass:"uoD_s_rg mt15"},[i("div",{staticClass:"us_box"},t._l(t.info.logistics.data[0].data,function(s,e){return i("div",{key:e,class:0==e?"us_item active":"us_item"},[i("span",{staticClass:"us_spot"}),t._v(" "),i("p",[t._v(t._s(s.context))]),t._v(" "),i("p",[t._v(t._s(s.time))])])}),0)]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"hr mt15"}),t._v(" "),t.info.invoice?i("div",[t._m(2),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("发票类型：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(0==t.info.invoice.type?"企业":"个人"))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("发票抬头：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(0==t.info.invoice.type?t.info.invoice.ename:t.info.invoice.title))])]),t._v(" "),0==t.info.invoice.type?i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("税号：")]),t._v(" "),i("div",{staticClass:"uoD _rg"},[t._v(t._s(t.info.invoice.taxnumber))])]):t._e(),t._v(" "),0==t.info.invoice.type?i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("开户银行：")]),t._v(" "),i("div",{staticClass:"uoD _rg"},[t._v(t._s(t.info.invoice.bank))])]):t._e(),t._v(" "),0==t.info.invoice.type?i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("银行账号：")]),t._v(" "),i("div",{staticClass:"uoD _rg"},[t._v(t._s(t.info.invoice.banknumber))])]):t._e(),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("地址：")]),t._v(" "),i("div",{staticClass:"uoD _rg"},[t._v(t._s(t.info.invoice.address))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("电话：")]),t._v(" "),i("div",{staticClass:"uoD _rg"},[t._v(t._s(t.info.invoice.phone))])])]):t._e(),t._v(" "),1==t.info.is_pay?i("div",[i("div",{staticClass:"hr mt15"}),t._v(" "),i("h1",{staticClass:"order_tit mt15"},[t._v("付款信息")]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("付款方式：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.pay_from))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("付款时间：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.payTime))])]),t._v(" "),i("div",{staticClass:"uoD_item"},[i("div",{staticClass:"uoD_lf"},[t._v("商品总额：")]),t._v(" "),i("div",{staticClass:"uoD_rg"},[t._v(t._s(t.info.price_total))])])]):t._e(),t._v(" "),i("div",{staticClass:"tr mt15"},[t._v("\n                            商品总价："),i("span",{staticClass:"colorPrice us_price"},[t._v(t._s(t.info.price_total)+"元")])])],2)],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"flex f-nowrap j-bet uoD_tit"},[s("h1",{staticClass:"order_tit"},[this._v("收货信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"uoD_item"},[s("div",{staticClass:"uoD_lf"},[this._v("配送方式：")]),this._v(" "),s("div",{staticClass:"uoD_rg"},[this._v("物流配送")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"flex f-nowrap j-bet uoD_tit"},[s("h1",{staticClass:"order_tit"},[this._v("发票信息")])])}]};var l=i("VU/8")(c,v,!1,function(t){i("EUr8")},"data-v-6f752a2e",null);s.default=l.exports}});
//# sourceMappingURL=24.afba52cc87cc46ea1bd6.js.map